# Next.js 프로젝트 생성
- 순서대로, 각 단계별로 결과를 받은 후 다음 단계로 넘어간다. 
- 명시되지 않으 에러가 난 경우 해결방안을 모색 후 사용자에게 확인 받아 실행한다.

## 개발환경 

- `Next.js`
- `Typescript`
- `TailwindCSS`
- `shadcn-ui`
- `yarn`


## 환경세팅

### 프로젝트 세팅
- 이 부분은 사용자가 이미 실행한 부분으로 생략한다. 
```bash
yarn create next-app [your-project-name] --typescript --tailwind --eslint --turbopack --app --src-dir --import-alias "@/*"

cd [your-project-name]
```


# claude가 실행할 부분
- 사용자가 새로 만든 프로젝트 폴더에서 시작할 것임.

## yarn 로컬 업그레이드
- `package.json`파일을 찾아 맨 하단에 아래 내용을 추가한다. 

```json
  ,"packageManager": "yarn@4.9.2"
```

- `yarn`을 재실행하여 모든 dependency 설치를 한다. 
```bash
yarn
```

### 참고
- `Usage Error: Couldn't find the node_modules state file - running an install might help (findPackageLocation)`
- 위 에러 발생 시 제대로 dependency 설치가 되지 않았으므로 다시 `yarn`을 실행한다.  
- 혹시 기존 node_modules / 상태파일 꼬였을 수 있으니 아래처럼 정리 후 다시 설치

```bash
rm -rf node_modules .pnp.* .yarn/install-state.gz
yarn
```

## shadcn 설치
- 아래 명령어로 shadcn/ui를 세팅한다.
- ` components.json` 생성여부는 `Y`를 선택한다.
- 색상은 기본값으로 선택한다.


```bash
# 초기화 → components.json 생성
yarn dlx shadcn@latest init

# 원하는 UI 컴포넌트를 가져와서 components/ 폴더에 추가
yarn dlx shadcn@latest add button

# 추가할 컴포넌트가 있다면
yarn dlx shadcn@latest add [component-name]
```

## 개발서버 확인
- 모든것이 잘 설치되었는지 아래 명령어로 확인한다.
- error가 없으면 정상

```bash
yarn dev
```

## 개발 서버 실행 후 불필요한 파일 삭제 
- 아래 경로의 불필요한 샘플파일을 삭제한다. 

```
src/app/favicon.ico
public/하위파일 모두 삭제
```

## 개발 서버 실행 후 불필요한 파일 내용 수정
- 아래 경로의 파일들의 내용을 수정한다.
- src/app/layout.tsx는 아래 내용으로 수정
  - title은 위에서 입력된 프로젝트명을 `your-project-name`에 대입해서 문자열로 표시한다.

```tsx
import type {Metadata} from "next";
import "./globals.css";

export const metadata: Metadata = {
  title: your-project-name,
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body>
        {children}
      </body>
    </html>
  );
}
```

- src/app/page.tsx는 아래 내용으로 수정

```tsx
import {Button} from "@/components/ui/button";

export default function Home() {
  return (
    <Button>누르세용</Button>
  );
}

```

### .gitignore 추가
- `.gitignore`파일 하단에 `.idea` 추가한다.

### troubleshootin.md 작성
- 실행 시 오류가 발생한 내용, 원인, 해결책을 정리하여 `/docs/troubleshooting.md` 파일로 작성한다.

## end

