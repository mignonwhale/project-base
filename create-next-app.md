# Next.js 프로젝트 생성

## 개발환경 

- `Next.js`
- `Typescript`
- `yarn`


## 환경세팅

### 프로젝트 세팅
- `package.json`, `yarn.lock`, `node_modules` 자동 생성
```
yarn create next-app your-project-name --typescript
```

## yarn 로컬 업그레이드
- `yarn` 버전 올림 
```
  "packageManager": "yarn@4.9.2"
```

- `yarn` 실행: 자동으로 , `.yarnrc.yml` 생성됨.
```
yarn
```

### 참고
- `Usage Error: Couldn't find the node_modules state file - running an install might help (findPackageLocation)`
- 제대로 디펜던시 설치가 되지 않았으므로 다시 `yarn`을 실행한다.  
- 혹시 기존 node_modules / 상태파일 꼬였을 수 있으니 정리
```
rm -rf node_modules .pnp.* .yarn/install-state.gz

# 다시 설치
yarn
```

## 개발서버 확인
```
yarn dev
```

## 개발 서버 실행 후 불필요한 파일 삭제 
```
src/app/favicon.ico
public/하위파일 모두 삭제
```

## 개발 서버 실행 후 불필요한 파일 내용 수정
- src/app/globals.css : `@import "tailwindcss";` 제외하고 모두 삭제
- src/app/layout.tsx는 아래 내용으로 수정
```tsx
import type {Metadata} from "next";
import "./globals.css";

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body>
        {children}
      </body>
    </html>
  );
}
```
- src/app/page.tsx는 아래 내용으로 수정
```tsx
export default function Home() {
  return (
    <h1>Home</h1>
  );
}
```



## WebStorm의 yarn 설정
Preferences > Languages & Frameworks > Node.js에서 Package Manager 항목을 yarn으로 변경.

## CSS 세팅
- 프로젝트 세팅 시 tailwind css 설치를 선택하면 자동으로 세팅된다.
- Tailwind CSS v4+일 경우 설정파일이 없어도 기본적으로 css 적용이 된다.
- 커스텀 설정이 필요한 경우에는 `tailwind.config.ts`를 추가하면 된다. 

```package.json
    "@tailwindcss/postcss": "^4",
    "tailwindcss": "^4",
```

```global.css
@import "tailwindcss";
```

## shadcn 사용 시
```bash
# CLI 설치 (개발 의존성, 배포 안함)
yarn add -D shadcn-ui 

# 초기화 → components.json 생성
yarn shadcn init 

# 원하는 UI 컴포넌트를 가져와서 components/ 폴더에 추가
yarn shadcn add button 

## Usage Error: Couldn't find a script named "shadcn". 에러가 나는 경우 아래 명령어로 
yarn dlx shadcn@latest add button
```



## vercel 세팅
- [vercel](https://vercel.com/)에서 프로젝트 생성 후 gitHub repository만 연결하면 자동 배포 실행


1. Vercel 계정 생성/로그인
  - https://vercel.com 접속
  - GitHub 계정으로 로그인
2. 새 프로젝트 생성
  - "New Project" 클릭
  - GitHub repository 연결
  - [project] 저장소 선택
3. 프로젝트 설정
  - Framework Preset: Next.js
  - Root Directory: ./
  - Build Command: yarn build
  - Output Directory: .next (자동 감지)
  - Install Command: yarn install

4. 환경변수 설정
  - "Environment Variables" 섹션에서 다음 추가:

● 환경변수 설정 (Vercel 대시보드):
NEXT_PUBLIC_SUPABASE_URL = [YOUR_SUPABASE_PROJECT_URL]
NEXT_PUBLIC_SUPABASE_ANON_KEY = [YOUR_SUPABASE_ANON_KEY]

5. 배포 실행
  - "Deploy" 버튼 클릭
  - 자동 빌드 및 배포 진행
